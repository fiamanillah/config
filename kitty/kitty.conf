#    **_** **  **
#   / //_(_) /_/ /___ __
#  / ,< / / **/ **/ // /
# /_/|_/_/\__/\__/\_, /
#                /___/

# =============================================================================
# Font settings
# =============================================================================
font_family      CaskaydiaCove Nerd Font
bold_font        auto
italic_font      auto
bold_italic_font auto
font_size        12.0

# Font features - Enhanced ligatures and features
font_features    CaskaydiaCoveNerdFont-Regular +calt +liga +dlig +ss01 +ss02 +ss03
disable_ligatures never

# Better text rendering
text_composition_strategy legacy
text_fg_override_threshold 0

# =============================================================================
# Cursor
# =============================================================================
cursor_shape             beam
cursor_beam_thickness    2.0
cursor_blink_interval    0.5
cursor_stop_blinking_after 15.0
shell_integration        enabled

# =============================================================================
# Mouse
# =============================================================================
mouse_hide_wait          2.0
url_color                #539bf5
url_style                curly
open_url_with            default
detect_urls              yes
copy_on_select           clipboard
strip_trailing_spaces    smart

# Click intervals
click_interval           -1.0
mouse_map left click ungrabbed mouse_handle_click selection link prompt
mouse_map ctrl+left click ungrabbed mouse_handle_click link

# =============================================================================
# Window layout
# =============================================================================
remember_window_size     yes
initial_window_width     1200
initial_window_height    800

window_padding_width     4
window_margin_width      0
window_border_width      1pt
single_window_margin_width 0
placement_strategy       center

# Window borders - GitHub theme colors
draw_minimal_borders     yes
active_border_color      #409eff
inactive_border_color    #6e7681
bell_border_color        #ff6a69

# Layouts
enabled_layouts          splits,stack,tall,grid,horizontal,vertical
window_resize_step_cells 2
window_resize_step_lines 2

# =============================================================================
# Transparency & Blur (Enhanced)
# =============================================================================
background_opacity       0.95
dynamic_background_opacity yes
background_blur          640
background_tint          0.85

# Dim inactive windows
dim_opacity              0.85

# =============================================================================
# Color scheme (GitHub Dark High Contrast)
# =============================================================================
foreground               #f0f3f6
background               #0a0c10
selection_foreground     #0a0c10
selection_background     #409eff

# Cursor colors
cursor                   #91cbff
cursor_text_color        #0a0c10

# URL colors
url_color                #91cbff

# Normal colors (GitHub Dark High Contrast)
color0                   #7a828e
color1                   #ff6a69
color2                   #26cd4d
color3                   #f0b72f
color4                   #539bf5
color5                   #b083f0
color6                   #39c5cf
color7                   #d9dee3

# Bright colors
color8                   #9ea7b3
color9                   #ff938a
color10                  #4ae168
color11                  #f7ce46
color12                  #6cb6ff
color13                  #dcbdfb
color14                  #56d4dd
color15                  #ffffff

# Extended colors for better syntax highlighting
color16                  #f0883e
color17                  #ff6a69
color18                  #1b1f23
color19                  #272b33
color20                  #c6cdd5
color21                  #eef1f6

# Mark colors (for search and hints)
mark1_foreground         #0a0c10
mark1_background         #f7ce46
mark2_foreground         #0a0c10
mark2_background         #b083f0
mark3_foreground         #0a0c10
mark3_background         #39c5cf

# =============================================================================
# Tabs (Enhanced GitHub Style)
# =============================================================================
tab_bar_edge             top
tab_bar_style            powerline
tab_powerline_style      slanted
tab_bar_min_tabs         1
tab_bar_margin_width     0.0
tab_bar_margin_height    2.0 2.0
tab_bar_align            left

# Tab colors - GitHub theme
active_tab_foreground    #f0f3f6
active_tab_background    #1b4b91
active_tab_font_style    bold-italic
inactive_tab_foreground  #7a828e
inactive_tab_background  #161b22
inactive_tab_font_style  normal
tab_bar_background       #0a0c10

# Tab title template with better icons
tab_title_template       " {fmt.fg.red}{bell_symbol}{activity_symbol}{fmt.fg.tab}{index}: {title.split()[0]} "
active_tab_title_template " {fmt.fg._91cbff}󰄾{fmt.fg.tab} {index}: {title.split()[0]} "

# =============================================================================
# Scrollback (Enhanced)
# =============================================================================
scrollback_lines         50000
scrollback_pager         less --chop-long-lines --RAW-CONTROL-CHARS +INPUT_LINE_NUMBER
scrollback_pager_history_size 100
scrollback_fill_enlarged_window yes
wheel_scroll_multiplier  3.0
wheel_scroll_min_lines   1
touch_scroll_multiplier  2.0

# =============================================================================
# Performance (Optimized)
# =============================================================================
repaint_delay            6
input_delay              1
sync_to_monitor          yes
wayland_enable_ime       yes

# =============================================================================
# Bell (Enhanced)
# =============================================================================
enable_audio_bell        no
visual_bell_duration     0.15
visual_bell_color        #ff6a69
window_alert_on_bell     yes
bell_on_tab              " 󰂞 "
command_on_bell          none

# =============================================================================
# Advanced
# =============================================================================
allow_remote_control     yes
listen_on                unix:/tmp/kitty
clipboard_control        write-clipboard write-primary read-clipboard read-primary
clipboard_max_size       512
term                     xterm-kitty

# Close confirmation
confirm_os_window_close  2
close_on_child_death     no

# Shell integration
shell_integration        enabled
allow_hyperlinks         yes

# =============================================================================
# Keyboard shortcuts (Enhanced & Organized)
# =============================================================================
kitty_mod                ctrl+shift
clear_all_shortcuts      no

# Clipboard operations
map kitty_mod+c          copy_to_clipboard
map kitty_mod+v          paste_from_clipboard
map kitty_mod+s          paste_from_selection
map shift+insert         paste_from_clipboard
map kitty_mod+o          pass_selection_to_program

# Window management
map kitty_mod+enter      new_window_with_cwd
map kitty_mod+n          new_os_window
map kitty_mod+w          close_window
map kitty_mod+]          next_window
map kitty_mod+[          previous_window
map kitty_mod+f          move_window_forward
map kitty_mod+b          move_window_backward
map kitty_mod+`          move_window_to_top
map kitty_mod+r          start_resizing_window
map kitty_mod+1          first_window
map kitty_mod+2          second_window
map kitty_mod+3          third_window
map kitty_mod+4          fourth_window
map kitty_mod+5          fifth_window

# Tab management
map kitty_mod+t          new_tab_with_cwd
map kitty_mod+q          close_tab
map kitty_mod+right      next_tab
map kitty_mod+left       previous_tab
map kitty_mod+.          move_tab_forward
map kitty_mod+,          move_tab_backward
map kitty_mod+alt+t      set_tab_title
map ctrl+tab             next_tab
map ctrl+shift+tab       previous_tab

# Layout management
map kitty_mod+l          next_layout
map kitty_mod+z          toggle_layout stack
map kitty_mod+\          goto_layout splits
map kitty_mod+minus      launch --location=hsplit --cwd=current
map kitty_mod+]          launch --location=vsplit --cwd=current

# Scrollback
map kitty_mod+h          show_scrollback
map kitty_mod+page_up    scroll_page_up
map kitty_mod+page_down  scroll_page_down
map kitty_mod+home       scroll_home
map kitty_mod+end        scroll_end
map kitty_mod+k          scroll_line_up
map kitty_mod+j          scroll_line_down
map kitty_mod+g          show_last_command_output

# Font sizes
map kitty_mod+equal      change_font_size all +1.0
map kitty_mod+plus       change_font_size all +1.0
map kitty_mod+minus      change_font_size all -1.0
map kitty_mod+backspace  change_font_size all 0
map kitty_mod+0          change_font_size all 0

# Miscellaneous
map kitty_mod+f11        toggle_fullscreen
map kitty_mod+f10        toggle_maximized
map kitty_mod+u          kitten unicode_input
map kitty_mod+f2         edit_config_file
map kitty_mod+escape     kitty_shell window
map kitty_mod+a>m        set_background_opacity +0.05
map kitty_mod+a>l        set_background_opacity -0.05
map kitty_mod+a>1        set_background_opacity 1
map kitty_mod+a>d        set_background_opacity default
map kitty_mod+delete     clear_terminal reset active
map kitty_mod+f5         load_config_file

# Search
map kitty_mod+/          launch --type=overlay --stdin-source=@screen_scrollback less +G -R
map kitty_mod+p          kitten hints --type=path --program=-

# Hints kitten (enhanced URL/path/hash detection)
map kitty_mod+e          kitten hints
map kitty_mod+p>f        kitten hints --type path --program -
map kitty_mod+p>shift+f  kitten hints --type=path
map kitty_mod+p>l        kitten hints --type line --program -
map kitty_mod+p>w        kitten hints --type word --program -
map kitty_mod+p>h        kitten hints --type hash --program -
map kitty_mod+p>n        kitten hints --type linenum
map kitty_mod+p>y        kitten hints --type hyperlink

# =============================================================================
# OS-specific tweaks (Enhanced)
# =============================================================================
# macOS
macos_option_as_alt                yes
macos_quit_when_last_window_closed yes
macos_show_window_title_in         none
macos_thicken_font                 0.20
macos_traditional_fullscreen       no
macos_colorspace                   srgb
macos_custom_beam_cursor           yes

# Linux
linux_display_server               auto
update_check_interval              0

# =============================================================================
# Additional Enhancements
# =============================================================================
# Notification
notify_on_cmd_finish               unfocused 30.0

# Window decorations
hide_window_decorations            titlebar-only

# Tab bar style alternatives (uncomment to use)
# tab_bar_style                    separator
# tab_separator                    " ┇ "

# Advanced font rendering
undercurl_style                    thin-sparse
