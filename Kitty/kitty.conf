#    **_** **  **
#   / //_(_) /_/ /___ __
#  / ,< / / **/ **/ // /
# /_/|_/_/\__/\__/\_, /
#                /___/

# Configuration
# =============================================================================
# Font settings
# =============================================================================
font_family      CaskaydiaCove Nerd Font
bold_font        auto
italic_font      auto
bold_italic_font auto
font_size        12.0

# Font features
font_features    CaskaydiaCoveNerdFont-Regular +calt +liga +dlig +ss01
disable_ligatures never

# =============================================================================
# Cursor
# =============================================================================
cursor_shape             beam
cursor_beam_thickness    1.5
cursor_blink_interval    0.6
cursor_stop_blinking_after 15.0
shell_integration        no-cursor  # Let shell handle cursor shape changes

# =============================================================================
# Mouse
# =============================================================================
mouse_hide_wait          3.0
url_color                #88C0D0
url_style                curly
open_url_with            default
detect_urls              yes
copy_on_select           no

# =============================================================================
# Window layout
# =============================================================================
window_padding_width     2
window_margin_width      0
window_border_width      1pt
single_window_margin_width 0

# Window borders
draw_minimal_borders     yes
active_border_color      #88C0D0
inactive_border_color    #3B4252
bell_border_color        #BF616A

# Layouts
enabled_layouts          splits,stack,tall,grid

# =============================================================================
# Transparency & Blur
# =============================================================================
background_opacity       0.92
dynamic_background_opacity yes
# Blur radius (macOS/Wayland)
background_blur          32

# =============================================================================
# Color scheme (Nord theme)
# =============================================================================
foreground               #D8DEE9
background               #2E3440
selection_foreground     #2E3440
selection_background     #88C0D0

# Cursor colors
cursor                   #D8DEE9
cursor_text_color        #2E3440

# Normal colors
color0                   #3B4252
color1                   #BF616A
color2                   #A3BE8C
color3                   #EBCB8B
color4                   #81A1C1
color5                   #B48EAD
color6                   #88C0D0
color7                   #E5E9F0

# Bright colors
color8                   #4C566A
color9                   #BF616A
color10                  #A3BE8C
color11                  #EBCB8B
color12                  #81A1C1
color13                  #B48EAD
color14                  #8FBCBB
color15                  #ECEFF4

# =============================================================================
# Tabs
# =============================================================================
tab_bar_edge             top
tab_bar_style            powerline
tab_powerline_style      slanted
tab_bar_min_tabs         2
tab_bar_margin_width     0.0
tab_bar_margin_height    0.0 0.0

# Tab colors
active_tab_foreground    #2E3440
active_tab_background    #88C0D0
active_tab_font_style    bold
inactive_tab_foreground  #D8DEE9
inactive_tab_background  #4C566A
inactive_tab_font_style  normal
tab_bar_background       #2E3440

# Tab title template
tab_title_template       "{fmt.fg.red}{bell_symbol}{activity_symbol}{fmt.fg.tab}{index}:{title}"

# =============================================================================
# Scrollback
# =============================================================================
scrollback_lines         10000
scrollback_pager         less --chop-long-lines --RAW-CONTROL-CHARS +INPUT_LINE_NUMBER
scrollback_pager_history_size 10
scrollback_fill_enlarged_window yes

# =============================================================================
# Performance
# =============================================================================
repaint_delay            7
input_delay              0
sync_to_monitor          yes

# =============================================================================
# Bell
# =============================================================================
enable_audio_bell        no
visual_bell_duration     0.0
window_alert_on_bell     yes
bell_on_tab              "ðŸ”” "

# =============================================================================
# Advanced
# =============================================================================
allow_remote_control     yes
listen_on                unix:/tmp/kitty
clipboard_control        write-clipboard write-primary read-clipboard read-primary
term                     xterm-kitty

# Confirm before closing window with running programs
confirm_os_window_close  1

# =============================================================================
# Keyboard shortcuts
# =============================================================================
# Clear default shortcuts
clear_all_shortcuts      no

# Clipboard
map ctrl+shift+c         copy_to_clipboard
map ctrl+shift+v         paste_from_clipboard
map ctrl+shift+s         paste_from_selection

# Window management
map ctrl+shift+enter     new_window
map ctrl+shift+w         close_window
map ctrl+shift+]         next_window
map ctrl+shift+[         previous_window
map ctrl+shift+f         move_window_forward
map ctrl+shift+b         move_window_backward

# Tab management
map ctrl+shift+t         new_tab
map ctrl+shift+q         close_tab
map ctrl+shift+right     next_tab
map ctrl+shift+left      previous_tab
map ctrl+shift+.         move_tab_forward
map ctrl+shift+,         move_tab_backward
map ctrl+shift+alt+t     set_tab_title

# Layout management
map ctrl+shift+l         next_layout
map ctrl+shift+z         toggle_layout stack

# Scrollback
map ctrl+shift+h         show_scrollback
map ctrl+shift+page_up   scroll_page_up
map ctrl+shift+page_down scroll_page_down
map ctrl+shift+home      scroll_home
map ctrl+shift+end       scroll_end

# Font sizes
map ctrl+shift+equal     change_font_size all +1.0
map ctrl+shift+minus     change_font_size all -1.0
map ctrl+shift+backspace change_font_size all 0

# Miscellaneous
map ctrl+shift+f11       toggle_fullscreen
map ctrl+shift+u         kitten unicode_input
map ctrl+shift+f2        edit_config_file
map ctrl+shift+escape    kitty_shell window

# =============================================================================
# OS-specific tweaks
# =============================================================================
# macOS
macos_option_as_alt            yes
macos_quit_when_last_window_closed yes
macos_show_window_title_in     none
macos_thicken_font             0.15

# Linux
linux_display_server           auto
